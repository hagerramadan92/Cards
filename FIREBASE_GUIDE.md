# دليل إصلاح مشاكل تسجيل الدخول بجوجل (Firebase Google Login Guide)

## 1. مشكلة "unauthorized-domain" في Production
عندما ترى رسالة الخطأ:
> "خطأ: الدومين غير مصرح به في Firebase. يرجى إضافته في Authentication > Settings > Authorized Domains"

فهذا يعني أن الدومين الخاص بموقعك (على سبيل المثال `your-site.vercel.app` أو `your-custom-domain.com`) غير مسموح له باستخدام مصادقة Firebase.

**الحل (خطوات Fix):**

1. اذهب إلى [Firebase Console](https://console.firebase.google.com/).
2. اختر مشروعك (`cards-728c1`).
3. من القائمة الجانبية، اختر **Authentication**.
4. اضغط على التبويب **Settings**.
5. اختر **Authorized domains**.
6. اضغط على زر **Add domain**.
7. أضف دومين الموقع الخاص بك (بدون `https://` أو `http://`)، مثال:
   - `ecommerce-xo.vercel.app`
   - `www.talaaljazeera.com`
8. اضغط **Add**.

بعد ذلك، انتظر لحظات وحاول تسجيل الدخول مرة أخرى في Production.

---

## 2. مشكلة "الحساب مسجل بالفعل بطريقة أخرى" (Localhost 409 Conflict)
عندما ترى رسالة:
> "الحساب مسجل بالفعل بطريقة أخرى (البريد الإلكتروني/كلمة المرور)..."

**السبب:**
هذا يعني أن البريد الإلكتروني الذي تحاول الدخول به عبر جوجل **موجود بالفعل** في قاعدة البيانات، ولكنه تم إنشاؤه باستخدام "كلمة مرور" (أو طريقة أخرى) وليس عبر جوجل. ولأسباب أمنية، يرفض النظام ربط الحساب تلقائيًا إذا لم يكن مفعلاً تلك الخاصية من الباك إند.

**الحل:**
- استخدم بريد إلكتروني جديد للتجربة (Test Account).
- أو قم بتسجيل الدخول باستخدام البريد وكلمة المرور للحساب الأصلي.
- إذا كنت المطور للباك إند، يمكنك تفعيل خاصية "Account Linking" أو دمج الحسابات، ولكن في الواجهة الأمامية (Frontend) الحل هو توضيح السبب للمستخدم (وهو ما تم تعديله الآن في الكود).
